!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("util"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","util","@angular/platform-browser"],t):t(e["ng-simple-slideshow"]={},e.ng.core,e.ng.common,e.util,e.ng.platformBrowser)}(this,function(e,r,o,i,t){"use strict";var n=function(){function e(){}return e.prototype.swipe=function(e,t,i){!0===i&&console.log("SwipeService::swipe("+e+", "+t+")");var n=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],s=(new Date).getTime();if("start"===t)this.swipeCoord=n,this.swipeTime=s;else if("end"===t){var o=[n[0]-this.swipeCoord[0],n[1]-this.swipeCoord[1]];if(s-this.swipeTime<1e3&&Math.abs(o[1])<Math.abs(o[0])&&30<Math.abs(o[0]))return o[0]<0?1:-1}return 0},e}();n.decorators=[{type:r.Injectable}],n.ctorParameters=function(){return[]};var l=t.makeStateKey("firstSlide"),s=function(){function e(e,t,i,n,s,o){this.swipeService=e,this.renderer=t,this.transferState=i,this.sanitizer=n,this.platform_id=s,this.document=o,this.slideIndex=0,this.slides=[],this.initial=!0,this.isHidden=!1,this.imageUrls=[],this.height="100%",this.showArrows=!0,this.disableSwiping=!1,this.autoPlay=!1,this.autoPlayInterval=3333,this.stopAutoPlayOnSlide=!0,this.autoPlayWaitForLazyLoad=!1,this.debug=!1,this.backgroundSize="cover",this.backgroundPosition="center center",this.backgroundRepeat="no-repeat",this.showDots=!1,this.dotColor="#FFF",this.showCaptions=!0,this.captionColor="#FFF",this.captionBackground="rgba(0, 0, 0, .35)",this.lazyLoad=!1,this.hideOnNoSlides=!1,this.onSlideLeft=new r.EventEmitter,this.onSlideRight=new r.EventEmitter,this.onSwipeLeft=new r.EventEmitter,this.onSwipeRight=new r.EventEmitter}return e.prototype.ngDoCheck=function(){!0===this.debug&&console.log("ngOnChanges()"),!i.isNullOrUndefined(this.imageUrls)&&0<this.imageUrls.length?(!0===this.initial&&(this.urlCache=Array.from(this.imageUrls)),!0===this.isHidden&&(this.renderer.removeStyle(this.container.nativeElement,"display"),this.isHidden=!1),this.setSlides()):!0===this.hideOnNoSlides&&(this.renderer.setStyle(this.container.nativeElement,"display","none"),this.isHidden=!0),this.setStyles(),this.handleAutoPlay()},e.prototype.onSlide=function(e,t){!0===this.debug&&console.log("onSlide("+e+", "+t+")"),this.handleAutoPlay(this.stopAutoPlayOnSlide),this.slide(e,t)},e.prototype.onSwipe=function(e,t){if(!0!==this.disableSwiping){var i=this.swipeService.swipe(e,t,!0===this.debug);0!==i&&this.onSlide(i,!0)}},e.prototype.onClick=function(e){e.preventDefault();var t=0<this.slides.length&&this.slides[this.slideIndex];t&&!i.isNullOrUndefined(t.image.clickAction)?t.image.clickAction():t&&!i.isNullOrUndefined(t.image.href)&&(this.document.location.href=t.image.href)},e.prototype.goToSlide=function(e){!0===this.debug&&console.log("goToSlide("+e+")");var t=this.slideIndex;this.slideIndex=e-1,this.setSlideIndex(1),this.slides[this.slideIndex].loaded||this.loadRemainingSlides(),this.handleAutoPlay(this.stopAutoPlayOnSlide),this.slideRight(t),this.slides[t].selected=!1,this.slides[this.slideIndex].selected=!0},e.prototype.getSlideStyle=function(e){!0===this.debug&&console.log("getSlideStyle("+e+")");var t=this.slides[e];return t.loaded?{"background-image":"url("+t.image.url+")","background-size":t.image.backgroundSize||this.backgroundSize,"background-position":t.image.backgroundPosition||this.backgroundPosition,"background-repeat":t.image.backgroundRepeat||this.backgroundRepeat}:{"background-image":undefined,"background-size":undefined,"background-position":undefined,"background-repeat":undefined}},e.prototype.slide=function(e,t){!0===this.debug&&console.log("slide("+e+", "+t+")");var i=this.slideIndex;this.setSlideIndex(e),this.slides[this.slideIndex].loaded||this.loadRemainingSlides(),1===e?this.slideRight(i,t):this.slideLeft(i,t),this.slides[i].selected=!1,this.slides[this.slideIndex].selected=!0},e.prototype.setSlideIndex=function(e){!0===this.debug&&console.log("setSlideIndex("+this.slideIndex+")"),this.slideIndex+=e,this.slideIndex<0&&(this.slideIndex=this.slides.length-1),this.slideIndex>=this.slides.length&&(this.slideIndex=0)},e.prototype.slideLeft=function(e,t){!0===this.debug&&console.log("slideLeft("+e+", "+t+")"),!0===t?this.onSwipeLeft.emit(this.slideIndex):this.onSlideLeft.emit(this.slideIndex),this.slides[this.getLeftSideIndex(e)].leftSide=!1,this.slides[e].leftSide=!0,this.slides[e].action="slideOutLeft",this.slides[this.slideIndex].rightSide=!1,this.slides[this.getRightSideIndex()].rightSide=!0,this.slides[this.slideIndex].action="slideInRight"},e.prototype.slideRight=function(e,t){!0===this.debug&&console.log("slideRight("+e+", "+t+")"),!0===t?this.onSwipeRight.emit(this.slideIndex):this.onSlideRight.emit(this.slideIndex),this.slides[this.getRightSideIndex(e)].rightSide=!1,this.slides[e].rightSide=!0,this.slides[e].action="slideOutRight",this.slides[this.slideIndex].leftSide=!1,this.slides[this.getLeftSideIndex()].leftSide=!0,this.slides[this.slideIndex].action="slideInLeft"},e.prototype.setSlides=function(){i.isNullOrUndefined(this.imageUrls)||(!0===this.debug&&console.log("setSlides()"),(this.checkCache()||!0===this.initial)&&(!0===this.debug&&(console.log("this.checkCache() || this.initial === true"),console.log("this.initial: "+this.initial),console.log("this.urlCache: "+this.urlCache),console.log("this.imageUrls: "+this.imageUrls)),this.initial=!1,this.urlCache=Array.from(this.imageUrls),this.slides=[],!0===this.lazyLoad?this.buildLazyLoadSlideArray():this.buildSlideArray()))},e.prototype.buildLazyLoadSlideArray=function(){!0===this.debug&&console.log("buildLazyLoadSlideArray()");for(var e=0,t=this.imageUrls;e<t.length;e++){var i=t[e];this.slides.push({image:"string"==typeof i?{url:null}:{url:null,href:i.href||""},action:"",leftSide:!1,rightSide:!1,selected:!1,loaded:!1})}this.slides[this.slideIndex].selected=!0,this.loadFirstSlide()},e.prototype.buildSlideArray=function(){!0===this.debug&&console.log("buildSlideArray()");for(var e=0,t=this.imageUrls;e<t.length;e++){var i=t[e];this.slides.push({image:"string"==typeof i?{url:i}:i,action:"",leftSide:!1,rightSide:!1,selected:!1,loaded:!0})}this.slides[this.slideIndex].selected=!0},e.prototype.loadFirstSlide=function(){var e=this;!0===this.debug&&console.log("loadFirstSlide()");var t=this.slideIndex,i=this.imageUrls[t];if(o.isPlatformServer(this.platform_id))this.slides[t].image="string"==typeof i?{url:i}:i,this.slides[t].loaded=!0,this.transferState.set(l,this.slides[t]);else{var n=this.transferState.get(l,null);if(null===n){var s=new Image;s.src="string"==typeof i?i:i.url,s.addEventListener("load",function(){e.slides[t].image="string"==typeof i?{url:i}:i,e.slides[t].loaded=!0})}else this.slides[t]=n,this.transferState.remove(l)}},e.prototype.loadRemainingSlides=function(){var s=this;!0===this.debug&&console.log("loadRemainingSlides()");for(var e=function(n){t.slides[n].loaded||new Promise(function(e){var t=s.imageUrls[n],i=new Image;i.addEventListener("load",function(){s.slides[n].image="string"==typeof t?{url:t}:t,s.slides[n].loaded=!0,e()}),i.src="string"==typeof t?t:t.url})},t=this,i=0;i<this.slides.length;i++)e(i)},e.prototype.handleAutoPlay=function(e){var t=this;o.isPlatformServer(this.platform_id)||(!0===e||!1===this.autoPlay?(!0===this.debug&&console.log("stop autoPlay"),i.isNullOrUndefined(this.autoplayIntervalId)||clearInterval(this.autoplayIntervalId)):i.isNullOrUndefined(this.autoplayIntervalId)&&(!0===this.debug&&console.log("start autoPlay"),this.autoplayIntervalId=setInterval(function(){!0===t.debug&&console.log("autoPlay slide event"),(!t.autoPlayWaitForLazyLoad||t.autoPlayWaitForLazyLoad&&t.slides[t.slideIndex].loaded)&&t.slide(1)},this.autoPlayInterval)))},e.prototype.setStyles=function(){!0===this.debug&&console.log("setStyles()"),i.isNullOrUndefined(this.height)||this.renderer.setStyle(this.container.nativeElement,"height",this.height),i.isNullOrUndefined(this.minHeight)||this.renderer.setStyle(this.container.nativeElement,"min-height",this.minHeight),i.isNullOrUndefined(this.arrowSize)||(this.renderer.setStyle(this.prevArrow.nativeElement,"height",this.arrowSize),this.renderer.setStyle(this.prevArrow.nativeElement,"width",this.arrowSize),this.renderer.setStyle(this.nextArrow.nativeElement,"height",this.arrowSize),this.renderer.setStyle(this.nextArrow.nativeElement,"width",this.arrowSize))},e.prototype.checkCache=function(){var i=this;return!0===this.debug&&console.log("checkCache()"),!(this.urlCache.length===this.imageUrls.length&&this.urlCache.every(function(e,t){return e===i.imageUrls[t]}))},e.prototype.getLeftSideIndex=function(e){return i.isUndefined(e)&&(e=this.slideIndex),--e<0&&(e=this.slides.length-1),e},e.prototype.getRightSideIndex=function(e){return i.isUndefined(e)&&(e=this.slideIndex),++e>=this.slides.length&&(e=0),e},e}();s.decorators=[{type:r.Component,args:[{selector:"slideshow",template:'\n    <div #container\n         (touchstart)="onSwipe($event, \'start\')"\n         (touchend)="onSwipe($event, \'end\')"\n         class="slideshow-container">\n      \x3c!-- slides --\x3e\n      <a *ngFor="let slide of slides; let i = index"\n         class="slides"\n         href="{{slide?.image?.clickAction ? \'#\' : slide?.image?.href}}"\n         title="{{slide?.image?.title}}"\n         [ngStyle]="getSlideStyle(i)"\n         [class.selected]="slide?.selected"\n         [class.hide-slide]="!slide?.selected && !slide?.leftSide && !slide?.rightSide"\n         [class.left-side]="slide?.leftSide"\n         [class.right-side]="slide?.rightSide"\n         [class.slide-in-left]="slide?.action === \'slideInLeft\'"\n         [class.slide-in-right]="slide?.action === \'slideInRight\'"\n         [class.slide-out-left]="slide?.action === \'slideOutLeft\'"\n         [class.slide-out-right]="slide?.action === \'slideOutRight\'"\n         [class.link]="slide?.image?.clickAction || slide?.image?.href"\n         (click)="onClick($event)">\n        <div class="loader"\n             *ngIf="!slide?.loaded"></div>\n        <div *ngIf="showCaptions && slide?.image?.caption"\n             class="caption"\n             [ngStyle]="{\n               \'color\': captionColor,\n               \'background-color\': captionBackground\n              }"\n             [innerHTML]="slide?.image?.caption">\n        </div>\n      </a>\n      \x3c!-- left arrow --\x3e\n      <div [class.display-none]="!this.showArrows"\n           (click)="onSlide(-1)"\n           class="arrow-container prev">\n        <i #prevArrow\n           title="Previous"\n           class="arrow prev"></i>\n      </div>\n      \x3c!-- right arrow --\x3e\n      <div [class.display-none]="!this.showArrows"\n           (click)="onSlide(1)"\n           class="arrow-container next">\n        <i #nextArrow\n           title="Next"\n           class="arrow next"></i>\n      </div>\n      \x3c!-- dots --\x3e\n      <ul class="slick-dots"\n          *ngIf="showDots">\n        <li *ngFor="let slide of slides; let index = index"\n            (click)="goToSlide(index)"\n            [class.slick-active]="slide.selected">\n          <button type="button"\n                  [attr.style]="sanitizer.bypassSecurityTrustStyle(\'--dot-color:\' + dotColor)">\n            {{index}}\n          </button>\n        </li>\n      </ul>\n    </div>\n  ',styles:["\n    /*\n     styles adapted from https://www.w3schools.com/w3css/4/w3.css\n     arrow styles adapted from https://codepen.io/minustalent/pen/Frhaw\n     */\n    .display-none {\n      display: none !important; }\n\n    .slideshow-container {\n      position: relative;\n      display: block;\n      margin: auto;\n      height: 100%;\n      width: 100%;\n      overflow: hidden; }\n      .slideshow-container .hide-slide {\n        visibility: hidden;\n        position: absolute;\n        top: -100vw;\n        left: -100vw;\n        opacity: 0; }\n      .slideshow-container .slides {\n        position: absolute;\n        top: 0;\n        height: 100%;\n        width: 100%;\n        visibility: visible;\n        opacity: 1;\n        display: block; }\n        .slideshow-container .slides.selected {\n          left: 0; }\n        .slideshow-container .slides.left-slide {\n          left: -100%; }\n        .slideshow-container .slides.right-slide {\n          left: 100%; }\n        .slideshow-container .slides.slide-in-left {\n          left: 0;\n          -webkit-animation: slideInLeft 0.5s cubic-bezier(0.42, 0, 0.58, 1);\n                  animation: slideInLeft 0.5s cubic-bezier(0.42, 0, 0.58, 1); }\n        .slideshow-container .slides.slide-in-right {\n          left: 0;\n          -webkit-animation: slideInRight 0.5s cubic-bezier(0.42, 0, 0.58, 1);\n                  animation: slideInRight 0.5s cubic-bezier(0.42, 0, 0.58, 1); }\n        .slideshow-container .slides.slide-out-left {\n          left: -100%;\n          -webkit-animation: slideOutLeft 0.5s cubic-bezier(0.42, 0, 0.58, 1);\n                  animation: slideOutLeft 0.5s cubic-bezier(0.42, 0, 0.58, 1); }\n        .slideshow-container .slides.slide-out-right {\n          left: 100%;\n          -webkit-animation: slideOutRight 0.5s cubic-bezier(0.42, 0, 0.58, 1);\n                  animation: slideOutRight 0.5s cubic-bezier(0.42, 0, 0.58, 1); }\n        .slideshow-container .slides.link {\n          cursor: pointer; }\n        .slideshow-container .slides:not(.link) {\n          cursor: default; }\n      .slideshow-container .caption {\n        position: absolute;\n        bottom: 0;\n        padding: 10px;\n        width: 100%; }\n      .slideshow-container .arrow-container {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n        position: absolute;\n        top: 0;\n        height: 100%;\n        width: auto;\n        cursor: pointer;\n        background-size: 100%;\n        background-image: -webkit-gradient(linear, left top, left bottom, from(transparent), to(transparent));\n        background-image: linear-gradient(transparent, transparent);\n        z-index: 100;\n        -webkit-user-select: none;\n           -moz-user-select: none;\n            -ms-user-select: none;\n                user-select: none; }\n        .slideshow-container .arrow-container:before {\n          display: block;\n          height: 100%;\n          position: absolute;\n          top: 0;\n          left: 0;\n          opacity: 0;\n          width: 100%;\n          z-index: -100;\n          -webkit-transition: opacity 0.45s;\n          transition: opacity 0.45s; }\n        .slideshow-container .arrow-container.prev {\n          left: 0; }\n          .slideshow-container .arrow-container.prev:before {\n            background-image: -webkit-gradient(linear, right top, left top, from(transparent), to(rgba(0, 0, 0, 0.75)));\n            background-image: linear-gradient(to left, transparent, rgba(0, 0, 0, 0.75));\n            content: ''; }\n        .slideshow-container .arrow-container.next {\n          right: 0; }\n          .slideshow-container .arrow-container.next:before {\n            background-image: -webkit-gradient(linear, left top, right top, from(transparent), to(rgba(0, 0, 0, 0.75)));\n            background-image: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.75));\n            content: ''; }\n        .slideshow-container .arrow-container .arrow {\n          display: block;\n          margin: auto;\n          width: 30px;\n          height: 30px;\n          background: transparent;\n          border-top: 2px solid #f2f2f2;\n          border-left: 2px solid #f2f2f2;\n          -webkit-transition: all .3s ease-in-out;\n          transition: all .3s ease-in-out;\n          -webkit-user-select: none;\n             -moz-user-select: none;\n              -ms-user-select: none;\n                  user-select: none; }\n          .slideshow-container .arrow-container .arrow:before {\n            display: block;\n            height: 200%;\n            width: 200%;\n            margin-left: -50%;\n            margin-top: -50%;\n            content: \"\";\n            -webkit-transform: rotate(45deg);\n                    transform: rotate(45deg); }\n          .slideshow-container .arrow-container .arrow.prev {\n            -webkit-transform: rotate(-45deg);\n                    transform: rotate(-45deg);\n            position: relative;\n            left: 20px;\n            margin-right: 10px; }\n          .slideshow-container .arrow-container .arrow.next {\n            -webkit-transform: rotate(135deg);\n                    transform: rotate(135deg);\n            position: relative;\n            right: 20px;\n            margin-left: 10px; }\n      .slideshow-container .slick-dots {\n        display: block;\n        bottom: 15px;\n        z-index: 1;\n        text-align: center;\n        position: absolute;\n        padding: 0;\n        left: 0;\n        right: 0;\n        margin: 0 auto; }\n        .slideshow-container .slick-dots li {\n          display: inline;\n          margin: 0;\n          padding: 0; }\n          .slideshow-container .slick-dots li button {\n            border: none;\n            background: none;\n            text-indent: -9999px;\n            font-size: 0;\n            width: 20px;\n            height: 20px;\n            outline: none;\n            position: relative;\n            z-index: 1;\n            cursor: pointer; }\n            .slideshow-container .slick-dots li button:before {\n              content: '';\n              width: 4px;\n              height: 4px;\n              background: var(--dot-color, #FFF);\n              border-radius: 4px;\n              display: block;\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              -webkit-transform: translate(-50%, -50%);\n                      transform: translate(-50%, -50%);\n              opacity: .7;\n              -webkit-transition: all .5s ease-out;\n              transition: all .5s ease-out; }\n          .slideshow-container .slick-dots li.slick-active button:before {\n            -webkit-transform: translate(-50%, -50%) scale(1.4);\n                    transform: translate(-50%, -50%) scale(1.4);\n            opacity: 1; }\n\n    @media screen and (min-width: 768px) {\n      .slideshow-container .arrow-container:hover:before {\n        opacity: 1; }\n      .slideshow-container .arrow-container:hover .arrow {\n        border-width: 4px; }\n      .slideshow-container .arrow-container .arrow:hover {\n        border-width: 4px; } }\n\n    @-webkit-keyframes slideInRight {\n      0% {\n        left: -100%; }\n      100% {\n        left: 0; } }\n\n    @keyframes slideInRight {\n      0% {\n        left: -100%; }\n      100% {\n        left: 0; } }\n\n    @-webkit-keyframes slideInLeft {\n      0% {\n        left: 100%; }\n      100% {\n        left: 0; } }\n\n    @keyframes slideInLeft {\n      0% {\n        left: 100%; }\n      100% {\n        left: 0; } }\n\n    @-webkit-keyframes slideOutRight {\n      0% {\n        left: 0; }\n      100% {\n        left: -100%; } }\n\n    @keyframes slideOutRight {\n      0% {\n        left: 0; }\n      100% {\n        left: -100%; } }\n\n    @-webkit-keyframes slideOutLeft {\n      0% {\n        left: 0; }\n      100% {\n        left: 100%; } }\n\n    @keyframes slideOutLeft {\n      0% {\n        left: 0; }\n      100% {\n        left: 100%; } }\n\n    .loader {\n      position: absolute;\n      left: 50%;\n      margin-left: -20px;\n      top: 50%;\n      margin-top: -20px;\n      border: 5px solid #f3f3f3;\n      border-top: 5px solid #555;\n      border-radius: 50%;\n      width: 50px;\n      height: 50px;\n      -webkit-animation: spin 1s linear infinite;\n              animation: spin 1s linear infinite; }\n\n    @-webkit-keyframes spin {\n      0% {\n        -webkit-transform: rotate(0deg);\n                transform: rotate(0deg); }\n      100% {\n        -webkit-transform: rotate(360deg);\n                transform: rotate(360deg); } }\n\n    @keyframes spin {\n      0% {\n        -webkit-transform: rotate(0deg);\n                transform: rotate(0deg); }\n      100% {\n        -webkit-transform: rotate(360deg);\n                transform: rotate(360deg); } }\n  "]}]}],s.ctorParameters=function(){return[{type:n},{type:r.Renderer2},{type:t.TransferState},{type:t.DomSanitizer},{type:undefined,decorators:[{type:r.Inject,args:[r.PLATFORM_ID]}]},{type:undefined,decorators:[{type:r.Inject,args:[o.DOCUMENT]}]}]},s.propDecorators={imageUrls:[{type:r.Input}],height:[{type:r.Input}],minHeight:[{type:r.Input}],arrowSize:[{type:r.Input}],showArrows:[{type:r.Input}],disableSwiping:[{type:r.Input}],autoPlay:[{type:r.Input}],autoPlayInterval:[{type:r.Input}],stopAutoPlayOnSlide:[{type:r.Input}],autoPlayWaitForLazyLoad:[{type:r.Input}],debug:[{type:r.Input}],backgroundSize:[{type:r.Input}],backgroundPosition:[{type:r.Input}],backgroundRepeat:[{type:r.Input}],showDots:[{type:r.Input}],dotColor:[{type:r.Input}],showCaptions:[{type:r.Input}],captionColor:[{type:r.Input}],captionBackground:[{type:r.Input}],lazyLoad:[{type:r.Input}],hideOnNoSlides:[{type:r.Input}],onSlideLeft:[{type:r.Output,args:["onSlideLeft"]}],onSlideRight:[{type:r.Output,args:["onSlideRight"]}],onSwipeLeft:[{type:r.Output,args:["onSwipeLeft"]}],onSwipeRight:[{type:r.Output,args:["onSwipeRight"]}],container:[{type:r.ViewChild,args:["container"]}],prevArrow:[{type:r.ViewChild,args:["prevArrow"]}],nextArrow:[{type:r.ViewChild,args:["nextArrow"]}]};var a=function d(){};a.decorators=[{type:r.NgModule,args:[{imports:[o.CommonModule,t.BrowserTransferStateModule],declarations:[s],exports:[s],providers:[n]}]}],a.ctorParameters=function(){return[]},e.SlideshowModule=a,e.ɵa=s,e.ɵb=n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-simple-slideshow.umd.min.js.map
